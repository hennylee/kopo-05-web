
## AJAX란?

- 백그라운드 작업으로 서버에 요청을 하고 
서버가 응답을 해주면 내가 보는 화면의 일부분을 응답 내용으로 수정하는 기술이다.

- AJAX는 자바스크립트 기반이다. 

- 응답으로는 HTML 문서가 올 수도 있지만 
응답 결과가 HTML이 아니고 정보일 수도 있다. 

- 예시로 지도 서비스를 들 수 있다. 
특정 지역을 검색하면, 검색 결과 일부분만 변경되고 나머지 부분은 변하지 않는 것이 바로 AJAX이다. 

- AJAX를 사용하면 화면을 Reload하지 않기 때문에 화면이 깜빡거리지 않는다는 장점이 있다.



## 비동기식과 동기식의 차이는?

- 동기식은 foreground로 서버에 요청 후, 응답을 받을 때까지 아무 작업을 할 수 없이 클라이언트가 계속 대기하고 있는 방식이다. 

- 비동기 방식은 백그라운드 방식이다. 

- 클라이언트가 요청을 보내면 Ajax 엔진이 요청을 채간 후 => background로 서버에 요청을 보낸 뒤 =>
서버에서 응답이 오면 클라이언트에 응답을 하는 방식인 것이다.

- 그래서 비동식이면 서버에서 응답이 왔는지 여부에 관계 없이, 클라이언트 단에서 작업을 수행할 수 있다는 장점이 있다. 

- 자바스크립트는 서버사이드가 아닌, 웹상의 프론트사이드에서 처리되기 때문에 가능한 것이다. 


## AJAX 프로그래밍 순서

1. 클라이언트 이벤트 발생

2. XMLHttpRequest 객체 생성

3. XMLHttpRequest 객체 콜백함수 설정
  - 콜백함수 : 서버가 바뀔때마다 호출되는 함수

4. XMLHttpRequest 객체를 통한 비동기화 요청

5. 서버 응답결과를 생성하여 클라이언트로 전송

6. XMLHttpRequest 객체는 서버 결과를 처리할 콜백함수 호출

7. 결과를 클라이언트 화면에 반영


## AJAX 문법

`open("HTTP method", "URL", syn/asyn)`
- 요청의 초기화 작업
- GET/POST 지정
- 서버 URL 지정
- 동기/비동기 설정


`send(content)`
- GET방식은 URL에 필요정보 추가하기 대문에 null 적용
- POST방식에서 파라미터 설정 처리



`onreadystatechange`
- 서버에서 응답이 도착했을 때 호출될 콜백함수 지정
- 콜백함수는 상태(readyState)가 변경될때마다 호출된다. 


`readyState` : 현재의 요청 상태
- 0 : 객체 생성 후, open 메서드 호출 전
- 1 : open 호출, send 호출 전
- 2 : send 호출, 서버 응답 전
- 3 : 데이버 일부 전송
- 4 : 모든 데이터 전송 완료

`status`
- 200
- 404


`responseText`
- 서버의 응답결과를 문자열로 받기

`responseXML`
- 서버의 응답결과를 XML Document로 받기



## ajax가 동시에 여러개 수행될때, 순서대로 수행될까?

아니다. 이럴때는 promise 등을 사용해서 수행시켜야 한다. 


