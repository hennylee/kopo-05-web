## 환경설정 파일

- 낮은 레벨에서는 환경설정 파일을 `xml`로 만들었음

- 그 다음에는 `property` + `xml` 

- 현재는 java `annotation` 혹은 java `config` 를 활용함


## 서블릿이란?

- 자바를 기반으로 웹개발을 할 수 있는 기술

- JSP는 언어라고 볼 순 없고, 서블릿의 기술이라고 볼 수 있다.

- 클라이언트/서버의 통신은 모두 내부적으로는 TCP 기반의 소켓 통신이다.

- 3Hand-Shaking이 복잡하기 때문에 웹브라우저가 이 통신을 내부적으로 대신 해주는 것이다. 

- 클라이언트와 서버쪽에 소켓이 이미 만들어져 있고, I/O 통로도 이미 만들어져 있기 때문에 서블릿은 웹브라우저 통로를 통해 HTML을 넘겨만 주는 것이다. 

- FileOutputStream, PrintStream과 같이 쌍따옴표 안에 html을 보내는 것이다. 



### JSP의 등장

  - 서블릿에서 문자형태로 HTML 등의 프리젠테이션 코드를 만드는 것이 불편했기 때문에 이 문제를 해결하기 위해 등장한 것이 JSP가 등장했다.

  - 확장자가 HTML이 아니고, 확장자가 JSP여도 실행할 수 있도록 만든 것이다.



### JSP 모델2(MVC 패턴) 의 등장

  - 한번 만들어지면 오랫동안 쓸 수 있어야 하기 때문에, 유지보수에 편해야 한다. 

  - 그러기 위해서는 화면단과 비즈니스 로직이 분리되어 있어야 한다. 

  -  그래서 실제로 JSP만 가지고 개발하던 `모델1` 방식에서, 서블릿과 JSP를 함께 사용하여 개발하는 JSP `모델2` 방식으로 개발 방식이 변화하게 되었다. 



## 서블릿 API

- 자바 기반의 컴포넌트 기술이 서블릿이기 때문에 `Servlet` 인터페이스, `GenericServlet` 추상클래스, `HttpServlet` 추상클래스 중 하나를 상속받기만 하면 된다. 

  - 인터페이스를 상속받으면 모든 것을 다 구현해야하기 때문에 불편해서, 추상클래스가 있는 것이다. 

  - 일반적으로 대부분의 사용자 정의 서블릿 클래스는 다 http 프로토콜 기반으로 움직이기 때문에 `HttpServlet` 추상클래스를 상속받아서 구현한다. 


## 서블릿 생명주기

- 서블릿이란 하나의 url에 대한 요청이 들어오면 응답처리를 하는 것이다.

1. `init` : 서블릿 맨처음 만들때, 환경 설정하는 메소드, 하나의 서블릿 당 한 번만 호출된다.

2. `service` : 요청에 대한 응답처리를 하는 메소드, 100명의 클라이언트가 들어오면 100번의 서비스가 호출되는 것이다?

3. `destroy` : 웹서버가 종료가되면 서블릿도 종료되어야 하기 때문에 destroy 메소드가 그 기능을 담당한다.  
